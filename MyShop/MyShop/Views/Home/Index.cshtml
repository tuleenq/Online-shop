@{
    ViewData["Title"] = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@* <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Instruments Shop</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            height: 100vh; 
        }

        
        .container-fluid {
            width: 100%;
            padding-left: 0 !important;
            padding-right: 0 !important;
        }

        .row {
            margin-left: 0 !important;
            margin-right: 0 !important;
        }

        .navbar {
            background-color: #000;
            padding: 1rem;
        }

        .navbar-brand {
            font-weight: bold;
            color: #fff;
        }

        .navbar .form-control {
            flex-grow: 1;
        }

        .navbar .btn-search {
            background-color: #c3002f;
            color: #fff;
        }

        .category-section {
            padding: 4rem 0;
            background-color: #f8f9fa;
        }

            .category-section h3 {
                text-align: center;
                margin-bottom: 1.5rem;
            }

        .category-item img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
        }

        .category-item {
            text-align: center;
        }

        .membership-section {
            background-color: #000;
            color: #fff;
            text-align: center;
            padding: 2rem 0;
        }

        .footer {
            background-color: #000;
            color: #fff;
            padding: 2rem 0;
            width: 100%;
        }

            .footer .column-title {
                font-weight: bold;
                margin-bottom: 1rem;
            }

            .footer a {
                color: #fff;
                text-decoration: none;
            }

                .footer a:hover {
                    text-decoration: underline;
                }

            .footer .subscribe-input {
                flex-grow: 1;
            }

        .feature {
            text-align: center;
            margin-top: 1rem;
        }

            .feature img {
                height: 40px;
            }

        .instrument-name {
            transition: transform 0.3s ease, color 0.3s ease; 
            font-weight: bold;
            text-align: center;
        }

            /* Hover effect: scale up and change color to red */
            .instrument-name:hover {
                transform: scale(1.2); /* Makes the text "pop out" */
                color: red; /* Changes the text color to red */
                cursor: pointer; /* Adds a pointer cursor on hover */
            }
    </style>
    <script>
        async function fetchCategoryData(categoryName) {
            try {
                const response = await fetch('https://localhost:7298/api/Products/by-category/${encodeURIComponent(categoryName)}');
                if (!response.ok) {
                    throw new Error(`Failed to fetch data: ${response.statusText}`);
                }
                const data = await response.json();
                displayCategoryData(data, categoryName);
            } catch (error) {
                console.error(error);
                alert(`Error fetching data for category: ${categoryName}`);
            }
        }

        function displayCategoryData(data, categoryName) {
            const newView = document.createElement('div');
            newView.id = "categoryView";
            newView.innerHTML = `
                        <button onclick="closeCategoryView()">Back</button>
                        <h2>${categoryName}</h2>
                        <div id="products">
                            ${data.map(product => `
                                <div class="product">
                                    <img src="${product.ImageFile}" alt="${product.Name}" style="width: 150px; height: 150px;">
                                    <h3>${product.Name}</h3>
                                    <p>${product.Description}</p>
                                    <p><strong>Price:</strong> $${product.Price}</p>
                                    <p><strong>Stock:</strong> ${product.StockQuantity}</p>
                                </div>
                            `).join('')}
                        </div>
                    `;
            document.body.innerHTML = '';
            document.body.appendChild(newView);
        }

        function closeCategoryView() {
            location.reload(); // Reloads the page to bring back the main view
        }

        // Event listeners for instrument names
        window.onload = function () {
            const instrumentNames = document.querySelectorAll('.instrument-name');
            instrumentNames.forEach(name => {
                name.addEventListener('click', () => {
                    const categoryName = name.innerText.trim();
                    fetchCategoryData(categoryName);
                });
            });
        };
    </script>
</head> *@

    
       @*  <nav class="navbar navbar-expand-lg navbar-dark">
          
                <a class="navbar-brand" href="#">SoundWave Instruments</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <form class="d-flex ms-auto">
                        <input class="form-control me-2" type="search" placeholder="Search..." aria-label="Search">
                        <button class="btn btn-search" type="submit">Search</button>
                    </form>
                    <ul class="navbar-nav ms-3">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-white" href="#" id="shopByCategory" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Shop by Category
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="shopByCategory">
                                <li><a class="dropdown-item" href="#">Guitars</a></li>
                                <li><a class="dropdown-item" href="#">Keyboards & Pianos</a></li>
                                <li><a class="dropdown-item" href="#">Drums & Percussion</a></li>
                                <li><a class="dropdown-item" href="#">Pro Audio</a></li>
                                <li><a class="dropdown-item" href="#">Band & Orchestra</a></li>
                                <li><a class="dropdown-item" href="#">Accessories</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-white" href="#" id="shopByBrand" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Shop by Brand
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="shopByBrand">
                                <li><a class="dropdown-item" href="#">Yamaha</a></li>
                                <li><a class="dropdown-item" href="#">Fender</a></li>
                                <li><a class="dropdown-item" href="#">Gibson</a></li>
                                <li><a class="dropdown-item" href="#">Roland</a></li>
                                <li><a class="dropdown-item" href="#">Casio</a></li>
                            </ul>
                        </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#loginSignupModal">Login / Signup</a>
                    </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#">Cart</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav> *@

 <style>
    .instrument-name {
        margin-top: 10px; /* Add space between the image and the text */
        font-size: 16px; /* Adjust the text size */
        font-weight: bold; /* Bold text */
        text-align: center; /* Center the text */
    }
  </style>

<section class="category-section py-4">
    <div class="category-section">
        <h3 style="text-align: center; margin-bottom: 20px;">Start Shopping Here</h3>
        <div class="row">
            <div class="col-md-2 category-item" style="text-align: center;" onclick="window.location.href='/Home/products?category=Guitars'">
                <img src="~/Images/pavlo-t-5rEyYBPLN-w-unsplash.jpg"
                     alt="Guitars"
                     style="width: 200px; height: 200px; object-fit: cover;">
                <p class="instrument-name" style="margin-top: 10px; font-size: 16px; font-weight: bold;">Guitars</p>
            </div>
            <div class="col-md-2 category-item" style="text-align: center;" onclick="window.location.href='/Home/products?category=Keyboards%20%26%20Pianos'">
                <img src="~/Images/pexels-mikhail-nilov-7570112.jpg"
                     alt="Keyboards & Pianos"
                     style="width: 200px; height: 200px; object-fit: cover;">
                <p class="instrument-name" style="margin-top: 10px; font-size: 16px; font-weight: bold;">Keyboards & Pianos</p>
            </div>
            <!-- Drums & Percussion -->
            <div class="col-md-2 category-item" style="text-align: center;" onclick="window.location.href='/Home/products?category=Drums'">
                <img src="~/Images/pexels-reneterp-1327430.jpg"
                     alt="Drums & Percussion"
                     style="width: 200px; height: 200px; object-fit: cover;">
                <p class="instrument-name" style="margin-top: 10px; font-size: 16px; font-weight: bold;">Drums & Percussion</p>
            </div>
            <!-- Pro Audio -->
            <div class="col-md-2 category-item" style="text-align: center;" onclick="window.location.href='/Home/products?category=Pro Audio'">
                <img src="~/Images/pexels-everson-mayer-478307-1481312.jpg"
                     alt="Pro Audio"
                     style="width: 200px; height: 200px; object-fit: cover;">
                <p class="instrument-name" style="margin-top: 10px; font-size: 16px; font-weight: bold;">Pro Audio</p>
            </div>
            <!-- Band & Orchestra -->
            <div class="col-md-2 category-item" style="text-align: center;" onclick="window.location.href='/Home/products?category=Orchestra'">
                <img src="~/Images/pexels-shottrotter-752535.jpg"
                     alt="Band & Orchestra"
                     style="width: 200px; height: 200px; object-fit: cover;">
                <p class="instrument-name" style="margin-top: 10px; font-size: 16px; font-weight: bold;">Band & Orchestra</p>
            </div>
            <!-- Accessories -->
            <div class="col-md-2 category-item" style="text-align: center;" onclick="window.location.href='/Home/products?category=Traditional'">
                <img src="~/Images/egypt-3325133_1280.jpg"
                     alt="Traditional"
                     style="width: 200px; height: 200px; object-fit: cover;">
                <p class="instrument-name" style="margin-top: 10px; font-size: 16px; font-weight: bold;">Traditional</p>
            </div>
        </div>
    </div>
</section>


    <section class="membership-section text-center bg-dark text-white py-5">
    <div class="membership-section">
        <h2>Have no clue what to buy ?</h2>
        <p>Check out our professional guide to get the perfect suited instrument !</p>
        <form class="d-inline-flex mt-2" action="/Home/Guide" method="get">
            
            <button class="btn btn-danger" type="submit">professional Guide</button>
        </form>
        </div>
    </section>

    <section class="features-section py-5 bg-light">
            <div class="container">
            <div class="row text-center">
                <div class="col-md-3">
                    <img src="~/Images/box.png" alt="Same Day Delivery" class="mb-sm-1" style="width: 40px; height: 40px;">
                    <h5>Same Day/Next Day Delivery</h5>
                    <p>Next day delivery on most orders in Jordan - Same day available</p>
                </div>
                <div class="col-md-3">
                    <img src="~/Images/shopping-cart.png" alt="Biggest Selection" class="mb-2" style="width: 40px; height: 40px;">
                    <h5>Biggest Selection</h5>
                    <p>Largest collection of any store in MENA</p>
                </div>
                <div class="col-md-3">
                    <img src="~/Images/user-talking-with-speech-bubble.png" alt="Top-notch Support" class="mb-2" style="width: 40px; height: 40px;">
                    <h5>Top-notch Support</h5>
                    <p>We are always happy to help in any way we can</p>
                </div>
                <div class="col-md-3">
                    <img src="~/Images/secure-payment.png" alt="Secure Payments" class="mb-2" style="width: 40px; height: 40px;">
                    <h5>Secure Payments</h5>
                    <p>Cash on Delivery available</p>
                </div>
            </div>
            </div>
     </section>


    @* <div class="footer">
        
            <div class="row">
                <div class="col-md-4">
                    <h5 class="column-title">About Feesheh</h5>
                    <p>Feesheh is the first dedicated online store for musical instruments and pro audio equipment in the MENA region.</p>
                </div>
                <div class="col-md-4">
                    <h5 class="column-title">Information</h5>
                    <ul class="list-unstyled">
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                    </ul>
                </div>
                
            </div>
        </div> *@
    
   @*  <!-- Login/Signup Modal -->
    <div class="modal fade" id="loginSignupModal" tabindex="-1" aria-labelledby="loginSignupModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginSignupModalLabel">Login to My Account</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Login Form -->
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="loginEmail" placeholder="Enter your email">
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="loginPassword" placeholder="Enter your password">
                        </div>
                        <button type="submit" class="btn btn-danger w-100">Login</button>
                        <div class="form-switch-link">
                            <p>Don't have an account? <a href="#" id="showSignupForm">Signup</a></p>
                        </div>
                    </form>

                    <!-- Signup Form (Hidden by Default) -->
                    <form id="signupForm" style="display: none;">
                        <div class="mb-3">
                            <label for="signupEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="signupEmail" placeholder="Enter your email">
                        </div>
                        <div class="mb-3">
                            <label for="signupPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="signupPassword" placeholder="Enter your password">
                        </div>
                        <div class="mb-3">
                            <label for="name" class="form-label">Name</label>
                            <input type="text" class="form-control" id="name" placeholder="Enter your Name">
                        </div>
                        <div class="mb-3">
                            <label for="adress" class="form-label">Adress</label>
                            <input type="text" class="form-control" id="adress" placeholder="Enter Your Adress">
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">Phone</label>
                            <input type="text" class="form-control" id="phone" placeholder="Enter Your Phone Number">
                        </div>

                        <button type="submit" class="btn btn-danger w-100">Signup</button>
                        <div class="form-switch-link">
                            <p>Already have an account? <a href="#" id="showLoginForm">Login</a></p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div> *@

    <!-- JavaScript to Toggle Forms -->
   @*  <script>
        document.addEventListener("DOMContentLoaded", function () {
            const loginForm = document.getElementById("loginForm");
            const signupForm = document.getElementById("signupForm");

            document.getElementById("showSignupForm").addEventListener("click", function (e) {
                e.preventDefault(); // Prevent default link behavior
                loginForm.style.display = "none";
                signupForm.style.display = "block";
                document.getElementById("loginSignupModalLabel").textContent = "Create an Account";
            });

            document.getElementById("showLoginForm").addEventListener("click", function (e) {
                e.preventDefault(); // Prevent default link behavior
                signupForm.style.display = "none";
                loginForm.style.display = "block";
                document.getElementById("loginSignupModalLabel").textContent = "Login to My Account";
            });
        });

        document.getElementById("loginForm").addEventListener("submit", async function (event) {
            event.preventDefault(); // Prevent the default form submission

            const email = document.getElementById("loginEmail").value;
            const password = document.getElementById("loginPassword").value;

            try {
                const response = await fetch('https://localhost:7298/api/Authentication/register', { // Adjust the API endpoint if necessary
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });

                if (response.ok) {
                    const result = await response.json();
                    console.log("Login successful:", result);
                    window.location.href = '/home/Index';
                } else if (response.status === 401) {
                    console.error("Unauthorized: Invalid email or password.");
                } else {
                    console.error("Login failed with status:", response.status);
                }
            } catch (error) {
                console.error("An error occurred:", error);
            }
        });

        document.getElementById("signupForm").addEventListener("submit", async function (event) {
            event.preventDefault(); // Prevent the default form submission

            // Collect input values
            const email = document.getElementById("signupEmail").value;
            const password = document.getElementById("signupPassword").value;
            const name = document.getElementById("name").value;
            const address = document.getElementById("adress").value;
            const phone = document.getElementById("phone").value;

            try {
                // Send POST request to the API
                const response = await fetch('https://localhost:7298/api/Authentication/login', { // Update the API endpoint if needed
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        Email: email,
                        Password: password,
                        Name: name,
                        Address: address,
                        Number: phone
                    })
                });

                if (response.ok) {
                    const result = await response.json();
                    console.log("Signup successful:", result);

                    // Show a success message to the user
                    alert("Signup successful!.");

                    // Redirect to the home page or another desired page
                    window.location.href = '/home/index'; // Adjust the URL as needed
                } else if (response.status === 400) {
                    const errorData = await response.json();
                    console.error("Signup failed:", errorData);
                    alert("Signup failed. Please check your inputs and try again.");
                } else {
                    console.error("Signup failed with status:", response.status);
                    alert("An unexpected error occurred. Please try again later.");
                }
            } catch (error) {
                console.error("An error occurred:", error);
                alert("Unable to connect to the server. Please check your connection.");
            }
        });
        
    </script>
 *@
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.js"></script>

